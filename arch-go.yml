version: 1
threshold:
  compliance: 100
  coverage: 90
dependenciesRules:
  - package: "api"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "internal/mails"
        - "internal/rates"
        - "internal/subscribers"
        - "pkg/utils"
        - "pkg/repo"
  - package: "internal/constants"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "internal/mails"
        - "internal/rates"
        - "internal/subscribers"
        - "pkg/utils"
  - package: "docs"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "internal/mails"
        - "internal/rates"
        - "internal/subscribers"
  - package: "internal/cron-jobs"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "pkg/utils"
        - "internal/mails"
        - "internal/rates"
        - "internal/subscribers"
        - "internal"
  - package: "internal/mails"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "pkg/utils"
  - package: "internal/rates"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "pkg/utils"
  - package: "internal/subscribers"
    shouldOnlyDependsOn:
      internal:
        - "internal/cron-jobs"
        - "pkg/utils"
        - "internal/constants"
        - "internal"
  - package: "internal/cron-jobs"
    shouldNotDependsOn:
      internal:
        - "api"
  - package: "pkg/repo"
    shouldOnlyDependsOn:
      internal:
        - "pkg/utils"
  - package: "pkg/utils"
    shouldNotDependsOn:
      internal:
        - "api"
        - "internal/cron-jobs"

contentsRules:
  - package: "README.md"
    shouldContain: ["# ExchangeRates v1", "## How to run", "## PR Pipeline", "## API doc with swagger", "## Mock tests"]

namingRules:
  - package: "internal"
    shouldFollowConvention: "camelCase"
